<!DOCTYPE html>
<html>
  <head>
    <title>Berlim Sombria</title>
    <link rel="icon" type="image/png" href="./assets/icone-jogo.png">
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <link rel="stylesheet" href="./styles/home-styles.css">
    <script src="./scripts/string-util.js"></script>
    <script src="./scripts/cena-util.js"></script>
  </head>
  <body>
    <div id="tela-home">
      <button id="botao-iniciar" onclick="iniciarJogo()">Iniciar jogo</button>
      <div id="banner-jogo"></div>
    </div>
    <a-scene>
      <a-assets>
        <a-asset-item id="predios-fundo" src="./assets/predios-fundo.glb"></a-asset-item>
        <img id="ceu-noite" src="./assets/ceu-noite.jpg"/>
        <img id="lua" src="./assets/lua.jpg" crossorigin="anonymous"/>
        <a-asset-item id="dwarf" src="./assets/CyberpunkDwarf.glb"></a-asset-item>
        <a-asset-item id="porta-giratoria" src="./assets/porta_giratoria.glb"></a-asset-item>
        <img id="parede-hall" src="./assets/parede_hall.png" crossorigin="anonymous"/>
        <img id="chao-hall" src="./assets/chao_hall.png" crossorigin="anonymous"/>
        <a-asset-item id="mesa-recepcao" src="./assets/mesa_recepcao.glb"></a-asset-item>
        <a-asset-item id="televisao" src="./assets/televisao.glb"></a-asset-item>

      </a-assets>

      <!-- Fundo do jogo -->
      <a-sky src="#ceu-noite"></a-sky> 
      <a-entity scale="1 1 1" rotation="0 90 0" position="0 0 0" gltf-model="#predios-fundo"></a-entity>
      <a-entity scale="1 1 1" rotation="0 90 0" position="30 0 0" gltf-model="#predios-fundo"></a-entity>
      <a-entity scale="1 1 1" rotation="0 90 0" position="-30 0 0" gltf-model="#predios-fundo"></a-entity>

      <a-entity scale="1 1 1" rotation="0 0 0" position="0 0 10" gltf-model="#predios-fundo"></a-entity>
      <a-entity scale="1 1 1" rotation="0 0 0" position="0 0 -25" gltf-model="#predios-fundo"></a-entity>
      <a-entity scale="1 1 1" rotation="0 0 0" position="0 0 -60" gltf-model="#predios-fundo"></a-entity>

      <a-entity scale="1 1 1" rotation="0 180 0" position="0 0 10" gltf-model="#predios-fundo"></a-entity>
      <a-entity scale="1 1 1" rotation="0 180 0" position="0 0 -25" gltf-model="#predios-fundo"></a-entity>
      <a-entity scale="1 1 1" rotation="0 180 0" position="0 0 -60" gltf-model="#predios-fundo"></a-entity>

      <a-entity scale="1 1 1" rotation="0 -90 0" position="30 0 -50" gltf-model="#predios-fundo"></a-entity>
      <a-entity scale="1 1 1" rotation="0 -90 0" position="0 0 -50" gltf-model="#predios-fundo"></a-entity>
      <a-entity scale="1 1 1" rotation="0 -90 0" position="-30 0 -50" gltf-model="#predios-fundo"></a-entity>

      <!-- Sol -->
      <a-sphere position="80 200 -100" radius="2" material="src: #lua; emissive: #fff; emissiveIntensity: 0.9"></a-sphere>
      <a-light type="directional" position="80 200 -100" intensity="1" color="#ffffff" target="#center"></a-light>
      <a-entity id="center" position="0 0 0"></a-entity>
    </a-scene> 
  </body> 
</html>

<script>
  async function iniciarJogo() {
    document.getElementById('tela-home').style.display = 'none';
    document.getElementById('banner-jogo').style.display = 'none';
    await adicionarCena('./cenas/bayerkorp/bayerkorp.html');
    await adicionarCena('./cenas/cidade-caos/cidade-caos.html');
  }
</script>